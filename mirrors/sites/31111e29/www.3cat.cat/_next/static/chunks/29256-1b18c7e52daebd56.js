(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29256],{40840:function(e,t,a){"use strict";a.d(t,{Fy:function(){return T},G7:function(){return Z},Lq:function(){return I},Ox:function(){return D}});var i=a(95235),r=a(52746),n=a(8529),o=a(97735),s=a(45455),u=a.n(s),d=a(80537),l=a.n(d),c=a(84336),v=a.n(c),f=a(87041);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,i.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b="No Informat",y="3CatInfo",w="Univers 3Cat",_=function(e,t,a){return e!==b&&"TVC"===t?a.includes(w)?a:a.concat(",".concat(w)):a},g=function(e){e&&(window.getDeviceUID=window.getDeviceUID||function(){return e})},h=function(e){return"undefined"!==typeof e&&e!==b?e:""},x=function(e){var t,a=new Date;if(""!==e&&"undefined"!==typeof e&&e!==b){var i=null===e||void 0===e?void 0:e.split(" "),r=(0,n.Z)(i,2),o=r[0],s=r[1],u=o.split(/\D/),d=(0,n.Z)(u,3),l=d[0],c=d[1],v=d[2],f=s.split(":"),p=(0,n.Z)(f,2),m=p[0],y=p[1];return t=new Date(v,c-1,l,m,y),Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes())-Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()))/6e4).toString()}return b},A=function(e){if(""!==e&&"undefined"!==typeof e&&e!==b){var t=null===e||void 0===e?void 0:e.split(" "),a=(0,n.Z)(t,2),i=(a[0],a[1]),r=null===i||void 0===i?void 0:i.split(":"),o=(0,n.Z)(r,2),s=o[0],u=o[1];if(s||u)return s+":"+u}return!1},j=function(e){var t=e.asPath,a=t.indexOf("?"),i=(t=a>0?t.substring(0,a):t).indexOf("#");return t=i>0?t.substring(0,i):t,"https://"+f.n.domainCCMA+t},C=function(e){var t=e.asPath;return"https://"+f.n.domainCCMA+t},P=function(e){var t=e.asPath.indexOf("?");return t>0?e.asPath.substring(t+1):""},E=function(e){var t="Sense fer login";return e&&(t="Amb login CCMA"),t},O=function(e){var t,a,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;if(v()(e)||u()(e))return e;var s=null===(t=(0,r.Z)(new Set(null===(a=e.filter((function(e){return!0===e.main})))||void 0===a||null===(i=a.map((function(e){return e.desc})))||void 0===i?void 0:i.concat(e.map((function(e){return e.desc}))))))||void 0===t?void 0:t.join(",");return _(o,n,s)},N=function(e){return v()(e)||u()(e)?e:null===e||void 0===e?void 0:e.map((function(e){return e.nom})).join(",")},S=function(e){return e?btoa(e):""},Z=function(e,t){window.globalEvars=window.globalEvars||{},window.globalEvars[e]=t},D=function(e){var t,a,i,r,n,s,d,c,v,f,p,w,_,g,Z,D,I,T,k,V,M,L,B,R,U=e.titol,q=e.prefix,F=e.sufix,z=e.evar1,W=e.evar2,K=e.evar3,H=e.evar4,J=e.evar5,G=e.evar7,Y=e.evar8,X=e.evar9,Q=e.evar14,$=e.evar19,ee=e.evar25,te=e.evar40,ae=e.evar41,ie=e.evar69,re=e.evar80,ne=e.evar83,oe=e.evar84,se=e.evar86,ue=e.agrupacions,de=e.dataPublicacio,le=e.status,ce=e.isAuthenticated,ve=e.id,fe=e.deviceUid,pe=e.viewport,me=e.router,be=e.temes,ye=e.tipus,we=e.tiraOrigen,_e=e.tiraTitles,ge=e.domini;R=function(e){var t=e.tipus,a=e.isWebviewActive,i=e.evar1,r=e.evar2,n=e.evar3,o=e.evar4,s=e.subseccioNivell1,u=e.evar7,d=e.evar8,l=e.evar9,c=e.font,v=e.permatitle,f=e.id,p=e.data_publicacio,w=e.autor,_=e.autors,g=e.pagename,h={},x="Aplicacions M\xf2bils",A="App: 3catinfo";return t.includes("item")?(h={pagename:g||v||o||b,titol:v||[o,y].join(" ")||b,evar3:n||b,evar4:o||b,subseccioNivell1:s||b,evar7:u||b,evar8:d||b,evar9:l||b,evar14:f||b,evar19:p,evar25:"itemnoti"==t?"sACN"==c?"ACN":y:b,evar86:N(_)||w||b,dataPublicacio:p||b},a&&(h=m(m({},h),{},{evar1:x,evar2:A})),h):"mapaweb"===t?{pagename:g,titol:g,evar1:a?x:i,evar2:a?A:r,evar7:a?"".concat(u," app"):u,subseccioNivell1:o||b}:{}}(e);var he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return!u()(e)&&e!==b||l()(e)?h(e):t===b||u()(t)&&!l()(t)?t===b?t:a:h(t)};return"errorPage"!=ye||u()(window)||u()(window.s)||(window.s.pageType="errorPage"),{user:{userLogin:E(ce),idUsuari:S(ve),idBigData:fe},page:{pageName:"errorPage"==ye?"":he(null===(t=R)||void 0===t?void 0:t.pagename,(0,o.wi)(q,U,"","")),actualPageName:he(null===(a=R)||void 0===a?void 0:a.pagename,(0,o.wi)(q,U,F,"")),viewport:pe,web:he(z,null===(i=R)||void 0===i?void 0:i.evar1,"CCMA"),seccio:he(W,null===(r=R)||void 0===r?void 0:r.evar2,"Not\xedcies"),subseccio:he(null===(n=R)||void 0===n?void 0:n.evar3,K,"Not\xedcies"),subseccioNivell1:(null===(s=R)||void 0===s?void 0:s.subseccioNivell1)!==b?null===(d=R)||void 0===d?void 0:d.subseccioNivell1:he(H,null===(c=R)||void 0===c?void 0:c.evar4,b),subseccioNivell2:he(J,null===(v=R)||void 0===v?void 0:v.evar5,b),URL:j(me),tipusPagina:"errorPage"==ye?"errorPage":he(G,null===(f=R)||void 0===f?void 0:f.evar7,b),programaWeb:he(Y,null===(p=R)||void 0===p?void 0:p.evar8,b),areaTematicaWeb:O(X,ge,X||b),idDeliverty:he(Q,null===(w=R)||void 0===w?void 0:w.evar14,b).toString(),dataEmissio:he((0,o.ou)(he($,null===(_=R)||void 0===_?void 0:_.evar19)),b),productorContingut:he(ee,null===(g=R)||void 0===g?void 0:g.evar25,b),cercadorKW:(null===(Z=window.globalEvars)||void 0===Z?void 0:Z.eVar40)||h(te),cercadorResultats:(null===(D=window.globalEvars)||void 0===D?void 0:D.eVar41)||h(ae),consent:(null===(I=window.globalEvars)||void 0===I?void 0:I.eVar89)||b,origenClic:we||b,relacionats:_e||b,formatva:he(null===(T=R)||void 0===T?void 0:T.evar69,O(ie),b),categoriaAgrupadora:he(null===(k=R)||void 0===k?void 0:k.agrupacions,O(ue),b),temes:he(null===(V=R)||void 0===V?void 0:V.temes,O(be,ge,Y||b),b),campanyesInternes:h(ne),lectorPantalla:h(oe),autor:he(null===(M=R)||void 0===M?void 0:M.evar86,se),horaEmissio:he(A(he($,null===(L=R)||void 0===L?void 0:L.evar19)),b),contingutMultimedia:"PER_DEFINIR",urlSencera:C(me),queryStringUrl:P(me),tempsPublicacio:x(he(de,null===(B=R)||void 0===B?void 0:B.dataPublicacio)),status:h(le),codiEtic:re||b}}},I=function(e){Z("eVar63",e.user.userLogin),Z("eVar71",e.user.idUsuari),Z("eVar87",e.user.idBigData),g(e.user.idBigData)},T=function(e,t){var a;null===(a=_satellite)||void 0===a||a.track(e,m({},t))}},41583:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var i=a(95235),r=a(6277),n=a(45455),o=a.n(n),s=a(96577),u=a.n(s),d=a(87041),l=a(15295),c=a.n(l),v=a(52322),f=d.n.basePath;function p(e){var t,a=e.codi,n=e.alt,s=e.mida,d=e.className,l=(e.title,e.estil),p=null===a||void 0===a?void 0:a.replace("PUCE_","").replace("CE_","").replace(/^0+/,"");"IN"===p&&(p="TP");var m=o()(n)||isNaN(p)?n:p+" anys",b=(0,r.Z)((t={},(0,i.Z)(t,c()[l],!o()(l)),(0,i.Z)(t,d,!o()(d)),t)),y=f+"/_resources/icones/codisEspectador/codisEspectador"+p+".svg?v=2.2510.3";return p&&"TP"!==p&&(0,v.jsx)("span",{className:b,"data-testid":"codi-espectador-".concat(p),"aria-label":"Edat recomanada "+m,children:(0,v.jsx)(u(),{loader:function(e){var t=e.src;return"".concat(t)},width:"AD"===p?1.6*s:s,height:s,alt:"",src:y,unoptimized:!0,"aria-hidden":!0})})}p.defaultProps={codi:"",alt:"",mida:"20",className:"",title:""}},29256:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return J}});var i=a(20406),r=a(95235),n=a(23769),o=a(82841),s=a.n(o),u=a(68631),d=a(97735),l=a(6277),c=a(24742),v=a(22199),f=a(91854),p=a(34610),m=a(98780),b=a(72579),y=a.n(b),w=a(45455),_=a.n(w),g=a(84336),h=a.n(g),x=a(5632),A=a(45847),j=a.n(A),C=a(2784),P=a(28316),E=a(43069),O=a(40840),N=a(52322);function S(e){var t=e.controlsAccessibles,a=e.accessKeyAttr;return(0,N.jsx)(N.Fragment,{children:t&&(0,N.jsxs)("div",{className:"sr-only",children:["Despr\xe9s de la publicitat pots interactuar amb el player amb els seg\xfcents botons",(0,N.jsx)("button",{className:"startstop",title:"Atura o engega el reproductor",accessKey:"p",onClick:function(){a("play")},children:"Engegar/Aturar"}),(0,N.jsx)("button",{className:"mute",title:"Mute on/off",accessKey:"s",onClick:function(){a("mute")},children:"Silenciar"}),(0,N.jsx)("button",{className:"incv",title:"\xc0udio m\xe9s alt",accessKey:"5",onClick:function(){a("volumeUp")},children:"Pujar el volum"}),(0,N.jsx)("button",{className:"decv",title:"\xc0udio m\xe9s baix",accessKey:"6",onClick:function(){a("volumeDown")},children:"Disminuir el volum"}),(0,N.jsx)("a",{href:"//www.3cat.cat/atencio/accessibilitat/",className:"sr-only",target:"_blank",rel:"noreferrer",children:"Instruccions per interactuar amb el player"})]})})}var Z=a(83017),D=a.n(Z),I=a(94564),T=a(41583);function k(e){var t,a,i=e.titol,r=e.nomProg,n=e.textAud,o=e.changeAudioDesc,s=e.aud,u=e.edat,d=(null===(a=u=null===(t=u)||void 0===t?void 0:t.replace("Aquest \xe0udio \xe9s per majors de ","").replace(" anys",""))||void 0===a?void 0:a.replace("CE_",""))+" anys";return(0,N.jsxs)("div",{className:D().fullscreenrow,children:[(0,N.jsx)("div",{className:D().nom,children:r}),(0,N.jsx)("div",{className:D().titol,children:i}),(0,N.jsxs)("div",{className:D().subinfo,children:["CE_TP"!==u&&!_()(u)&&(0,N.jsx)("span",{className:D().edat,children:(0,N.jsx)(T.Z,{codi:u,alt:d,mida:"20",className:""})}),s&&(0,N.jsxs)("button",{className:D().boto,"aria-label":"audiodescripci\xf3",onClick:o,children:[(0,N.jsx)("div",{className:D().boto_text,children:n}),(0,N.jsx)(I.Z,{estil:"clickable",alt:"Audiodescripci\xf3",icona:"audiodescripcio"})]})]})]})}var V=a(72512),M=a.n(V),L=a(4945);function B(e){var t,a=e.playerVideoTagId,i=e.fixed,n=e.handlerCloseFlotant,o=(0,l.Z)((t={},(0,r.Z)(t,M().tancarFlotant,!0),(0,r.Z)(t,M().show,i),t)),s=(0,l.Z)({videoviewbase:!0,"fixed-player":i}),u=(0,C.useRef)();return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:s,id:"videoviewbase_"+a,ref:u,children:[(0,N.jsx)("div",{className:"videowrapper",children:(0,N.jsxs)("div",{children:[(0,N.jsx)("video",{poster:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",width:"100%",height:"100%",className:"meplayer",id:a}),(0,N.jsx)("div",{className:o,children:(0,N.jsx)(L.Z,{tag:"button",estil:"transparent",className:M().botoTancar,icona:"tanca",isIconaBlanc:!0,altIcona:"Tanca",onClick:n})})]})}),(0,N.jsx)("div",{className:"poster"})]}),(0,N.jsx)("div",{className:"ratiokeeper"})]})}var R=a(8529),U=function(){var e;return window.jitdevizr.isDevicePc()?e="pc_3catinfo":window.jitdevizr.isDeviceTablet()?e="tablet_3catinfo":window.jitdevizr.isDeviceMobile()?e="mobil_3catinfo":window.jitdevizr.isDeviceTv()&&(e="tv_3catinfo"),e};function q(e){var t=e.urlBase,a=e.tipus,i=e.dataParametresExtraWs,r=e.directe,n=e.mediaws,o=e.versio,s=e.id,u=e.offset,d="",l="video"===a&&!r?function(){var e=window.jitdevizr.isIE()&&!window.jitdevizr.isEdge(),t=window.jitdevizr.isSafari();return window.jitdevizr.isiOS()||window.jitdevizr.isMacintosh()&&t?"&format=hm":window.jitdevizr.isAndroid()||window.jitdevizr.isDevicePc()&&!e&&!t?"&format=dm":"&format=m"}():"";return i&&(d+="&"+i),(t=d.indexOf("profile=")>=0?t.replace("&profile=:deviceprofile:extrawsparams",d).concat(l):t.replace(":deviceprofile",U).replace(":extrawsparams",d).concat(l)).replace(":versio",o).replace(":mediaws",n).replace(":idint",s).replace(":versio",o).replace(":offset",u)}var F=a(97729),z=a.n(F);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}var K=function(e){return["cr","ci","cm","ic","324","sx3","tv3","oca1","oca2","oca3","oca4","ocr1","esport3","33","c33","tv3cat","tvc","tvi","fc1","fc2","fc3","fc4","fc5","pucfc1","pucfc2","pucfc3","pucfc4","pucfc5","bondiatv","beauties"].includes(e)},H=(0,C.forwardRef)((function(e,t){var a,o,b,w=e.routerQuery,g=e.isPopup,A=e.tipus,Z=e.versio,I=e.className,T=e.parametresExtraWs,V=e.playerVideoTagId,M=e.mostraRelacionats,L=e.mostraCasting,U=e.autofullscreen,F=e.autoPlay,H=e.ocultaInfo,J=e.updateInfo,G=e.adPlaying,Y=e.updateAudioDesc,X=e.desactivaAudioDesc,Q=e.embed,ee=e.estils,te=e.playerError,ae=e.state,ie=e.endPubDate,re=e.imatges,ne=e.pushMediaModel,oe=e.playerControllerInstance,se=e.onNextVideo,ue=e.mostrarBotonsAccessibilitat,de=e.eliminarPrimerTabIndex,le=e.disabledDblClickFullscreen,ce=(0,C.useRef)(null),ve=e.hashStartOverParams,fe=(null===e||void 0===e?void 0:e.id)||(null===w||void 0===w?void 0:w.id),pe=null!==e&&void 0!==e&&e.id?null===e||void 0===e?void 0:e.directe:K(fe),me=(0,x.useRouter)(),be=(0,p.a)(),ye=(0,n.Z)({},be),we=(0,v.Z)().setRmpLoginState;(0,C.useEffect)((function(){we(ye)}),[ye,we]);var _e=(0,C.useState)(!0),ge=_e[0],he=_e[1],xe=(0,C.useState)(!1),Ae=xe[0],je=xe[1],Ce=(0,C.useState)(""),Pe=Ce[0],Ee=Ce[1],Oe=(0,C.useState)(!1),Ne=Oe[0],Se=Oe[1],Ze=(0,C.useState)(null),De=Ze[0],Ie=Ze[1],Te=(0,C.useState)(null),ke=Te[0],Ve=Te[1],Me=(0,C.useState)(null),Le=Me[0],Be=Me[1],Re=(0,C.useState)(null),Ue=Re[0],qe=Re[1],Fe=(0,C.useState)(null),ze=Fe[0],We=Fe[1],Ke=(0,C.useState)(null),He=Ke[0],Je=Ke[1],Ge=(0,C.useState)(!1),Ye=Ge[0],Xe=Ge[1],Qe=(0,C.useState)(!1),$e=Qe[0],et=Qe[1],tt=(0,C.useState)(!0),at=tt[0],it=tt[1],rt=(0,C.useState)(null),nt=rt[0],ot=rt[1],st=(0,C.useState)(ue)[0],ut=(0,C.useState)("Activa"),dt=ut[0],lt=ut[1],ct=(0,C.useState)(!1),vt=ct[0],ft=ct[1],pt=(0,C.useState)((0,l.Z)((0,r.Z)({},D().inactiveButtons,pe))),mt=pt[0],bt=pt[1],yt=(0,C.useState)((0,l.Z)((0,r.Z)({},D().inactiveStartOverButton,!1))),wt=yt[0],_t=yt[1],gt=(0,C.useState)(null),ht=gt[0],xt=gt[1],At=(0,C.useState)(null),jt=At[0],Ct=At[1],Pt="bmplayer.3cat.muted";(0,C.useEffect)((function(){document.addEventListener("keydown",(function(e){if("Enter"===e.key){var t=document.querySelector("#"+V),a=null===t||void 0===t?void 0:t.parentElement;if(null===t||void 0===t?void 0:t.dataset.playerActive)(null===a||void 0===a?void 0:a.contains(document.activeElement))&&e.stopImmediatePropagation()}}))}),[]),(0,C.useImperativeHandle)(t,(function(){return{play:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===ke||void 0===ke||ke.sendCommand("currentTime",e),null===ke||void 0===ke||ke.sendCommand("play")},inici:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===ke||void 0===ke||ke.sendCommand("currentTime",e)},continuePlay:function(){null===ke||void 0===ke||ke.sendCommand("play")},pause:function(){null===ke||void 0===ke||ke.sendCommand("pause")},getCurrentAudioTrack:function(){return Kt(ke)},activaStartOver:function(e){ta({actiu:e})},handleAudioDesc:function(){$t()},isMuted:function(){return null===ke||void 0===ke?void 0:ke.sendCommand("isMute")},mute:function(){return(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.su)(Pt);case 2:"true"===e.sent?(0,d.G3)(Pt,!1,".3cat.cat"):(0,d.Cj)(Pt,"true",{path:"/",domain:".3cat.cat",expires:1}),null===ke||void 0===ke||ke.sendCommand("mute");case 5:case"end":return e.stop()}}),e)})))()}}}));var Et,Ot,Nt=me.query,St={profile:Nt.app,frontal:Nt.frontal,agrupacio:Nt.agrupacio,ranking:Nt.ranking},Zt=(0,m.S)(),Dt=Zt.viewport,It=Zt.zoomNavigator,Tt=function(e,t){return e.split("&").forEach((function(e){var a=e.split("=");t[a[0]]||(t[a[0]]=a[1])})),Object.entries(t).filter((function(e){var t=(0,R.Z)(e,2);return t[0],void 0!==t[1]})).flatMap((function(e){var t=(0,R.Z)(e,2),a=t[0];return[t[1]].flat().map((function(e){return[a,e]}))})).map((function(e){return e.join("=")})).join("&")}(T,St),kt="yes"===me.query.autofullscreen||U,Vt="yes"===me.query.mostra_relacionats||M,Mt="yes"===me.query.ad||"true"===me.query.ad||null,Lt="false"!==me.query.autoplay&&("yes"===me.query.autoplay||"true"===me.query.autoplay||F),Bt=me.query.temps_inici?me.query.temps_inici:"0",Rt="https://api-media.3cat.cat/pvideo/media.jsp",Ut=(0,C.useState)(0)[0],qt={CATALUNYA:"tv3",ESPANYA:"tvc",TOTS:"tvi"},Ft=(0,l.Z)((a={"M-rmp":!0,"C-audio":("audio"===A||"audio_tts"===A)&&"noticia"!==ee&&!Q,"C-standaloneAudio":("noticia"===ee||Q)&&"audio"===A||"audio_tts"===A,"C-directe":pe,"C-popup":g},(0,r.Z)(a,D().rmplayer,!0),(0,r.Z)(a,D().rmplayerAudio,"audio"===A||"audio_tts"===A),(0,r.Z)(a,D()[ee],!!ee),(0,r.Z)(a,D().embed,Q),(0,r.Z)(a,D().popup,g),(0,r.Z)(a,D().rmpDirecte,pe),(0,r.Z)(a,D().zoom400,It>3),(0,r.Z)(a,I,!!I),a)),zt=function(e){Xe(!0),lt("Activa"),ft(!1),void 0!==X&&X(),me.replace({pathname:"/3cat/"+e.detail.slug+"/video/"+e.detail.idint+"/",query:null})},Wt=function(e){var t=e.target;if(t.id===V&&"0"===t.getAttribute("tabindex")){e.preventDefault();var a=Array.from(document.querySelectorAll("a, button, input, textarea, select, [tabindex]:not([tabindex='-1'])")),i=a.indexOf(t);if(-1!==i)(a[i+1]||a[0]).focus()}},Kt=function(e){try{return e.sendCommand("getCurrentAudioTrack")}catch(t){return 0}},Ht=(0,C.useRef)({tipus:A,dataParametresExtraWs:Tt,directe:pe,mediaws:Rt,versio:Z,id:fe,offset:Ut}),Jt=(0,C.useRef)(!1),Gt=(0,f.Z)().getHashParamsFromUrl;null==ve&&(null!==(Et=ve=Gt(me.asPath.split("#")[1]))&&void 0!==Et&&Et.hashStartOverParams&&(ve=null===(Ot=ve)||void 0===Ot?void 0:Ot.hashStartOverParams));var Yt=!(null===(o=ve)||void 0===o||!o.start)||void 0;(0,C.useEffect)((function(){Q&&"DESP"===ae&&(Ee("audio"===A||"audio_tts"===A?"Aquest \xe0udio est\xe0 despublicat":"Aquest v\xeddeo est\xe0 despublicat"),he(!1))}),[ae,ie]),(0,C.useEffect)((function(){var e,t;(Ht.current={tipus:A,dataParametresExtraWs:Tt,directe:pe,mediaws:Rt,versio:Z,id:fe,offset:Ut},Yt||(Jt.current=!1),Yt&&null!==(e=ve)&&void 0!==e&&e.desplacament&&!Jt.current)&&(Ht.current.offset=null===(t=ve)||void 0===t?void 0:t.desplacament,Jt.current=!0)}),[A,Tt,pe,Rt,Z,fe,Ut,Yt,null===(b=ve)||void 0===b?void 0:b.desplacament]);var Xt=function(e){var t,a,i,n,o;if(Xe(!1),pe)"audio"===A?(t=new window.TVCEndPoints.AudioLiveModel({idint:e}),Ht.current.urlBase=window.URLS.AUDIOINFOLIVEPERIDJSON):(t=new window.TVCEndPoints.VideoLiveModel({idint:e}),Ht.current.urlBase=window.URLS.VIDEOINFOLIVEPERIDJSON),t.url=function(){var e=q(Ht.current);if(Yt){var t=new URL(e);t.searchParams.set("so_id",ve.so_id),t.searchParams.set("start",ve.start),e=t.href}return e},t.parse=function(e){var a,i,r;return n=void 0!==(null===e||void 0===e?void 0:e.keyframes)?null===e||void 0===e||null===(a=e.keyframes[0])||void 0===a?void 0:a.url:void 0,o=null===e||void 0===e||null===(i=e.informacio)||void 0===i||null===(r=i.arafem)||void 0===r?void 0:r.presentador,t.update(e),clearTimeout(t.nextUpdateTimeout),t.nextUpdateTimeout=setTimeout((function(){t.fetch({success:j,error:C})}),t.getNextUpdateTime()),t};else{var s,u;if("audio_tts"===A)t=new window.TVCEndPoints.AudioModel({idint:e}),Ht.current.urlBase=null===(s=window)||void 0===s||null===(u=s.URLS)||void 0===u?void 0:u.AUDIOTTSINFOPERIDJSON;else if("audio"===A){var c,v;t=new window.TVCEndPoints.AudioModel({idint:e}),Ht.current.urlBase=null===(c=window)||void 0===c||null===(v=c.URLS)||void 0===v?void 0:v.AUDIOINFOPERIDJSON}else{var f,p;t=new window.TVCEndPoints.MediaModel({idint:e}),Ht.current.urlBase=null===(f=window)||void 0===f||null===(p=f.URLS)||void 0===p?void 0:p.VIDEOINFOPERIDJSON}Ht.current.id=e,t.url=q(Ht.current)}var m=new window.TVCPlayerCore.PlayerController(V,t,!0);Ve(m),oe&&oe(m);var b="width=480, height=320, titlebar=0, resizable=0, scrollbars=0, location=0",w="&temps_inici=",g=function(t){var a,i,r=t.detail,n=null===r||void 0===r?void 0:r.id;if(!_()(n)&&n.includes("-".concat(e))){var o=(null===m||void 0===m?void 0:m.sendCommand("currentTime"))/1e3,s=null!==m&&void 0!==m&&m.sendCommand("paused")?"false":"true",u=(null===me||void 0===me||null===(a=me.query)||void 0===a?void 0:a.slug)||"audio",d=(null===me||void 0===me||null===(i=me.query)||void 0===i?void 0:i.canal)||e;pe?(o=0,window.open("/3catinfo/directes/"+d+"/popup/?autoplay="+s+w+o,"",b)):"audio_tts"===A?window.open("/3catinfo/"+u+"/audio-tts/"+e+"/popup/?autoplay="+s+w+o,"",b):window.open("/3catinfo/"+u+"/audio/"+e+"/popup/?autoplay="+s+w+o,"",b)}},x=function(){if("pictureinpicture"!==(null===m||void 0===m?void 0:m.sendCommand("getViewMode"))){var e,t=$("#videoviewbase_"+V),a=null===(e=t.offset())||void 0===e?void 0:e.top,i=a+t.height();!function(e,t,a){var i=document.querySelector("#"+V);return"true"===(null===i||void 0===i?void 0:i.dataset.playerActive)&&at&&(e>a||e<t)}(document.body.scrollTop||document.documentElement.scrollTop,a-window.innerHeight/1.5,i-window.innerHeight/3)?(et(!1),it(!0)):(et(!0),$e||function(e){var t;e.current&&(null===(t=e.current.querySelector('[tabindex="0"]'))||void 0===t||t.focus())}(ce))}};m.on("changevideo",(function(e){})),m.on("loadedmetadata",(function(e){Mt&&!vt&&$t()})),m.on("openPopup",g),window.addEventListener("openPopup",g),window.addEventListener("scroll",x),m.on("sas_adstart",(function(){G(!0)})),m.on("sas_adend",(function(){G(!1)})),m.on("sas_adcreativitybegin",(function(){G(!0)})),m.on("sas_adcreativityend",(function(){G(!1)})),m.on("playlistend",(function(t){se&&se({currentVideo:e})})),m.on("playliststart",(function(){})),m.on("playlistready",(function(e){if(AppPlayerPlugin){var t=$("#"+V).parents(".tvcplayer"),a=void 0!==(null===e||void 0===e?void 0:e.params)?null===e||void 0===e?void 0:e.params:e;AppPlayerPlugin(t,m,a)}})),m.on("error",(function(){})),m.on("timeupdate",(function(t){(0,d.LS)({id:e,tipology:"audio"===A||"audio_tts"===A?"WCR_AUDIO_MM":"DTY_VIDEO_MM",tc:Math.round(t.params.ms/1e3)})})),m.on("play",(function(){document.querySelector("#"+V)&&(document.querySelector("#"+V).dataset.playerActive=!0);ve&&void 0!==ve.audio_index&&(Kt(m)!==Number(ve.audio_index)&&m.sendCommand("setCurrentAudioTrack",Number(ve.audio_index)));(H&&H(!0),pe)&&(Math.ceil(m.sendCommand("getCurrentTimeSec"))<-20&&bt((0,l.Z)((0,r.Z)({},D().inactiveButtons,!1))));"audio_tts"===A&&!$e&&m.sendCommand("isMute")&&(m.sendCommand("mute"),0===m.sendCommand("volume")&&m.sendCommand("volume",.2));var e=document.getElementsByClassName("fixed-player");if(e.length>0){var t=e[0].getElementsByClassName("bitmovinplayer-container")[0];(null===t||void 0===t?void 0:t.id)!==V&&t.player.pause()}var a=document.getElementsByClassName("bitmovinplayer-container");a.length>0&&Array.from(a).forEach((function(e){V!==e.id&&(e.player.pause(),e.dataset.playerActive=!1)}))})),m.on("pause",(function(){0===document.getElementsByClassName("fixed-player").length&&(document.querySelector("#"+V).dataset.playerActive=!1);!i&&H&&H(!1),pe&&bt((0,l.Z)((0,r.Z)({},D().inactiveButtons,!1)))})),m.on("related-playlist-show",(function(){a=m.sendCommand("paused"),i=!0,H&&H(!0)})),m.on("related-playlist-close",(function(){i=!1,a&&H&&H(!1)})),m.on("seeked",(function(){if(pe){var e=Math.ceil(m.sendCommand("getCurrentTimeSec")/60);bt(e<0?(0,l.Z)((0,r.Z)({},D().inactiveButtons,!1)):(0,l.Z)((0,r.Z)({},D().inactiveButtons,!0))),Ht.current.offset=-1*e,t.fetch({success:j,error:C})}}));var j=function(e){if(Se(!0),Ie(e),ne&&ne(e),pe){var t=y()(e,"attributes.informacio.attributes.arafem.attributes.titol")||"",a=y()(e,"attributes.informacio.attributes.arafem.attributes.titol_complet")||"",i=y()(e,"attributes.informacio.attributes.arafem.attributes.programa")||"",s=y()(e,"attributes.informacio.attributes.arafem.attributes.codi_etic.attributes.text")||"",u=y()(e,"attributes.informacio.attributes.arafem.attributes.descripcio")||"",d=y()(e,"attributes.informacio.attributes.despresfem.programa")||"",c=y()(e,"attributes.informacio.attributes.despresfem.titol")||"",v=y()(e,"attributes.informacio.attributes.despresfem.data_emissio.utc")||"",f=y()(e,"attributes.startover.params")||!1;if(document.querySelector("#"+V+" .fullscreenrow")&&ea(t,i,s),f&&!Yt?(_t((0,l.Z)((0,r.Z)({},D().inactiveStartOverButton,!1))),xt(f)):(_t((0,l.Z)((0,r.Z)({},D().inactiveStartOverButton,!0))),bt((0,l.Z)((0,r.Z)({},D().inactiveButtons,!1))),xt(!1)),Yt&&_t((0,l.Z)((0,r.Z)({},D().inactiveStartOverButton,!1))),!h()(J)){var p,m=void 0!==n?Qt(n):"",b=(null===Ht||void 0===Ht||null===(p=Ht.current)||void 0===p?void 0:p.offset)||0,w=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({titol:t,titol_complet:a,entradeta:u,despresPrograma:d,despresTitol:c,despresHora:v,presentador:o,imatgeKeyCrop:m,offset:b},f&&{startOverParams:f});J(w)}}},C=function(){console.warn("error on media.jsp response")};return t.fetch({success:j,error:C}),function(){m.off("changevideo",(function(){})),m.off("loadedmetadata",(function(){})),m.off("sas_adstart",(function(){})),m.off("sas_adend",(function(){})),m.off("sas_adcreativitybegin",(function(){})),m.off("sas_adcreativityend",(function(){})),m.off("playlistend",(function(){})),m.off("playliststart",(function(){})),m.off("playlistready",(function(){})),m.off("error",(function(){})),m.off("timeupdate",(function(){})),m.off("play",(function(){})),m.off("pause",(function(){})),m.off("seeked",(function(){})),m.off("related-playlist-show",(function(){})),m.off("related-playlist-close",(function(){})),m.off("ready",(function(){})),m.off("openPopup",(function(){})),window.removeEventListener("openPopup",g),window.removeEventListener("scroll",x),clearTimeout(t.nextUpdateTimeout),m.destroy()}},Qt=function(e){var t;if(h()(e)||!e.includes("img.ccma.cat")||!e.includes("img.3cat.cat"))return e;var a="";switch(Dt){case"VP_MOBILE":case"VP_SMALL":a="670";break;case"VP_REGULAR":a="1014";break;default:a="1920"}var i=null===e||void 0===e?void 0:e.split("."),r=".".concat(null===(t=i[i.length-1])||void 0===t?void 0:t.trim());return e.replace(r,"_".concat(a).concat(r))},$t=function(){ft(!vt),lt(vt?"Activa":"Desactiva"),void 0!==Y&&Y()},ea=function(e,t,a){var i=document.querySelector("#"+V+" .fullscreenrow");(0,P.render)((0,N.jsx)(k,{titol:Le||e,nomProg:nt||t,changeAudioDesc:$t,textAud:dt,edat:ze||a,aud:He}),i)};(0,C.useEffect)((function(){if(De){if(pe||K(fe)){var e=y()(De,"attributes.informacio.attributes.arafem.attributes.durada.text")||y()(De,"attributes.informacio.attributes.arafem.durada.text");he(""!==e);var t=y()(De,"attributes.informacio.attributes.arafem.attributes.drets.text")||y()(De,"attributes.informacio.attributes.arafem.drets.text");Ee(t),Be(y()(De,"attributes.informacio.attributes.arafem.attributes.titol")),ot(y()(De,"attributes.informacio.attributes.arafem.attributes.programa")),We(y()(De,"attributes.informacio.attributes.arafem.attributes.codi_etic.attributes.text"))}else Be(y()(De,"attributes.informacio.attributes.titol")),qe(y()(De,"attributes.informacio.attributes.durada.attributes.milisegons")),ot(y()(De,"attributes.informacio.attributes.programa")),We(y()(De,"attributes.informacio.attributes.codi_etic.attributes.id"));var a=$("#"+V).parents(".tvcplayer"),i=y()(De,"attributes.variants");Je(void 0!==i&&(null===i||void 0===i?void 0:i.length)>0);var r=y()(De,"attributes.keyframes.models[0].attributes.url")||y()(De,"attributes.imatges.models[0].attributes.url");"audio"===A&&pe&&(r=re?(0,u.getImatge)(re,"web_player_poster_background",null,(0,E.J)(Dt),null).src:y()(De,"attributes.imatges.models[0].attributes.url")||y()(De,"attributes.keyframes.models[0].attributes.url")),a.data("imatge_poster",Qt(r)),"audio_tts"===A&&a.data("type","audio"),a.data("subtitles",y()(De,"attributes.subtitols")),a.data("sprites",y()(De,"attributes.sprites")),a.data("durada",y()(De,"attributes.informacio.attributes.durada.attributes.milisegons")),"video"===A&&a.data("title",y()(De,"attributes.informacio.attributes.titol"));var n=y()(De,"attributes.geoblocked");n&&(je(n),Ee("Aquest contingut no est\xe0 disponible en la teva ubicaci\xf3"))}}),[De]),(0,C.useEffect)((function(){_()(te)||te(""!==Pe)}),[Pe]),(0,C.useEffect)((function(){var e,t,a=fe;return void 0===(null===(e=window)||void 0===e?void 0:e.setGlobalEvar)&&(window.setGlobalEvar=O.G7),"tv3"===a&&window.geoZoneHandler?window.geoZoneHandler.getGeoZone((function(e){t&&t(),t=Xt(qt[e]),window.addEventListener("changeVideo",zt)})):(t&&t(),t=Xt(a),window.addEventListener("changeVideo",zt)),de&&document.addEventListener("focusin",Wt),function(){window.removeEventListener("changeVideo",zt),window.removeEventListener("focusin",Wt),t()}}),[fe,jt]);var ta=function(e){var t,a=e.params||e.detail||e,i=(null===a||void 0===a?void 0:a.actiu)||!1,r="#",n=Kt(ke),o=null===(t=me.asPath)||void 0===t?void 0:t.split("#"),s=o[0],u=void 0!==o[1]?"#"+o[1]:"#";if("#"!==(u=aa(u))&&(s+=u,r="&"),i&&(s=s+r+ht),n>0){var d="#audioIndex=";s.includes("#")&&(d="&audioIndex="),s=s+d+n}me.replace(s,void 0,{scroll:!1}),Ct(i)},aa=function(e){var t=e;return t.includes("#so_id")&&(t=t.split("so_id")[0]),t.includes("&so_id")&&(t=t.split("&so_id")[0]),t.includes("#audioIndex")&&(t=t.split("audioIndex")[0]),t.includes("&audioIndex")&&(t=t.split("&audioIndex")[0]),t};(0,C.useEffect)((function(){return null!==ht&&(window.removeEventListener("startOver",ta),window.addEventListener("startOver",ta),ke&&(ke.off("startOver",ta),ke.on("startOver",ta))),function(){ke&&ke.off("startOver",ta),window.removeEventListener("startOver",ta)}}),[ht]),(0,C.useEffect)((function(){if(ke&&!Ye){var e=vt?"activaAud":"desactivaAud";null===ke||void 0===ke||ke.sendCommand(e)}}),[vt]),(0,C.useEffect)((function(){var e=function(){ea()};return ke&&"video"===A&&(ke.on("loadedmetadata",e),ke.on("ready",e)),function(){ke&&(ke.off("loadedmetadata",e),ke.off("ready",e))}}),[Le,nt,ze,He,dt,vt]);var ia="audio"!==A&&!pe||g?(0,u.getImatge)(re,"web_player_poster_background",null,(0,E.J)(Dt),null).src:"",ra=ia?{backgroundImage:"url("+ia+")",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"100%"}:{};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(z(),{children:[(0,N.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://statics.3cat.cat/css/vendor/bitmovinplayer-ui.min.css"}),(0,N.jsx)("link",{rel:"stylesheet",type:"text/css",href:"https://statics.3cat.cat/css/moduls/skin.3cat.css"})]}),(0,N.jsxs)("div",{style:ra,children:[(0,N.jsx)(j(),{src:"https://statics.3cat.cat/js/vendor/notification.center.min.js"}),(0,N.jsx)(j(),{src:"https://statics.3cat.cat/js/vendor/springstreams.min.js"}),Ne&&(0,N.jsxs)("div",{className:"".concat(Ft," ").concat(mt," ").concat(wt),"data-testid":"player-".concat(fe),children:[(0,N.jsx)(S,{controlsAccessibles:st,accessKeyAttr:function(e){if("play"===e&&(null!==ke&&void 0!==ke&&ke.sendCommand("paused")?null===ke||void 0===ke||ke.sendCommand("play"):null===ke||void 0===ke||ke.sendCommand("pause")),"volumeUp"===e&&(null===ke||void 0===ke||ke.sendCommand("volume",(null===ke||void 0===ke?void 0:ke.sendCommand("volume"))+.2)),"volumeDown"===e){var t=(null===ke||void 0===ke?void 0:ke.sendCommand("volume"))-.2===0?-1:(null===ke||void 0===ke?void 0:ke.sendCommand("volume"))-.2;null===ke||void 0===ke||ke.sendCommand("volume",t)}"mute"===e&&(null===ke||void 0===ke||ke.sendCommand("mute"))}},fe),(0,N.jsx)("div",{ref:ce,className:"tvcplayer videoplayer","data-audio-route-path":"/catradio/alacarta/{slug2}/{slug}/audio/{id}/","data-autoadjustheight":"1","data-autofullscreen":kt?"1":"0","data-autoplay":Lt?"1":"0","data-blacklist":"https://dinamics.3cat.cat/public/player/blacklist.json","data-buttons":"{}","data-controls-accessibles":st?"1":"0","data-delayed":Bt||"0","data-durada":Ue,"data-extrawsparams":Tt,"data-idint":fe,"data-jwskin":"ccma","data-skin":"ccma","data-jwskinaudio":"ccma","data-live":pe?"1":"0","data-mostra_event_fs":"","data-mostra_relacionats":Vt?"1":"0","data-mostracasting":L?"1":"0","data-popupurl":"https://www.3cat.cat/audio/popup/","data-producte":"","data-publivastios":"","data-img-src":"","data-type":A,"data-versio":"vast","data-video-route-path":"/tv3/alacarta/{slug2}/{slug}/video/{id}/","data-disableddobleclickfullscreen":le,"data-vr":"",children:ge&&!Ae?(0,N.jsx)(B,{fixed:$e,playerVideoTagId:V,handlerCloseFlotant:function(){it(!1),et(!1),document.querySelector("#"+V).dataset.playerActive=!1,null===ke||void 0===ke||ke.sendCommand("pause")}}):(0,N.jsx)("div",{className:D().errorContent,"data-testid":"player-error",children:(0,N.jsx)("div",{className:D().errorLayer,children:(0,N.jsx)("div",{className:D().errorMsg,children:(0,N.jsxs)("div",{className:D().errorText,children:[!Ae&&(0,N.jsx)(c.Z,{icona:"avis",alt:"avis",isBlanc:!0,mida:73}),(0,N.jsxs)("div",{className:D().errorTextContent,children:[(0,N.jsx)("div",{className:D().textPrincipal,children:"audio"===A||"audio_tts"===A?"Contingut no disponible":"V\xeddeo no disponible"}),(0,N.jsx)("div",{className:D().text,children:Pe})]})]})})})})})]})]})]})}));H.defaultProps={tipus:"video",playerVideoTagId:"view1",versio:"vast",mostraRelacionats:!0,autofullscreen:!1,autoPlay:!1,mostraCasting:!0,parametresExtraWs:"",isPopup:!1,embed:!1,accessibilitat:!0,className:null,eliminarPrimerTabIndex:!1};var J=H},22199:function(e,t,a){"use strict";a.d(t,{Z:function(){return i.qW}});var i=a(97735)},91854:function(e,t,a){"use strict";a.d(t,{Z:function(){return i.Mm}});var i=a(97735)},43069:function(e,t,a){"use strict";a.d(t,{J:function(){return i}});var i=function(e){switch(e){case"VP_MOBILE":case"VP_SMALL":return 670;case"VP_REGULAR":return 1014;default:return 1920}}},15295:function(e){e.exports={pagMesInfo:"codiespectador_pagMesInfo__u_NVi",clickable:"codiespectador_clickable__xb11l"}},72512:function(e){e.exports={tancarFlotant:"videoBase_tancarFlotant__leI9d",show:"videoBase_show__kHWCE",botoTancar:"videoBase_botoTancar__t1M6X"}},83017:function(e){e.exports={errorContent:"player_errorContent__gnVZL",errorLayer:"player_errorLayer__XzpIk",errorMsg:"player_errorMsg__xWRsJ",errorText:"player_errorText__nAKoL",errorTextContent:"player_errorTextContent__KDw__",textPrincipal:"player_textPrincipal__ZlzRf",text:"player_text__cJFW2",rmplayer:"player_rmplayer__W0HIh",rmpDirecte:"player_rmpDirecte__BGKM1",rmplayerAudio:"player_rmplayerAudio__enmLX",inactiveButtons:"player_inactiveButtons__8y7Yb",inactiveStartOverButton:"player_inactiveStartOverButton__uO3T6",embed:"player_embed__vXVsx",popup:"player_popup__XRATh",minutaminutVideo:"player_minutaminutVideo__vxjFW",minutaminutAudio:"player_minutaminutAudio__Zv0Js",audioNoti:"player_audioNoti__VnPQF",zoom400:"player_zoom400__GgHkA",audioPodcast:"player_audioPodcast__OAH2V",noticia:"player_noticia__ckQzX",fullscreenrow:"player_fullscreenrow__7bT8_",nom:"player_nom__9gh7V",titol:"player_titol__PylSF",edat:"player_edat__0cgm_",boto:"player_boto__3JiSq",subinfo:"player_subinfo__B7tyl",webview:"player_webview__Bx4MP",jwplayer:"player_jwplayer__N66xK","jw-controlbar":"player_jw-controlbar__olb0x","jw-icon-playback":"player_jw-icon-playback__w60J_","jw-tooltip":"player_jw-tooltip__L26K3","jw-open":"player_jw-open__kVV20"}}}]);
//# sourceMappingURL=29256-1b18c7e52daebd56.js.map