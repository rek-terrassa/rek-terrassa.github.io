(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48146],{48146:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return B}});var n=i(95235),o=i(2784),a=i(20406),r=i(82841),c=i.n(r),l={},s={},u={},d=0,p=function(t,e){var i=$("#"+t);i.length>0&&(i.empty(),""!==e&&i.append($('<div id="sas_'+e+'" ></div>')))},m=function(t,e,i,n){var o,a,r=0,c=!1;o=setInterval((function(){if(i){var l=t.children();for(a=l.length-1;a>=0;a-=1)"SCRIPT"!==l.eq(a).prop("tagName")&&l.eq(a).children().length>0&&(c=!0)}else(t.find("script").length>1||void 0!==$("html").find("#jpx-wp-front-container")[0])&&(c=!0);!0===c?(clearInterval(o),n.onSuccess(),n.onComplete(e)):(r+=1)>10&&(clearInterval(o),n.onError(),n.onComplete())}),1500)},f=function(){var t=(0,a.Z)(c().mark((function t(e,i,n,o,a,r){var l;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((l=$("#sas_"+n)).length>0)){t.next=12;break}return l.empty(),e+"/"+i,n,t.next=8,new Promise((function(t){d>20?(d=0,t(!1)):t(!0)}));case 8:t.sent&&(window.sas.call("std",{siteId:e,pageId:i,formatId:n,target:""}),m(l,o,a,r)),t.next=14;break;case 12:r.onError(),r.onComplete();case 14:case"end":return t.stop()}}),t)})));return function(e,i,n,o,a,r){return t.apply(this,arguments)}}(),v=function(t,e){var i,n,o,a=t.format;n=t.portalId,o=t.seccioId,i=t.formatIds[e],t.callbacks||{},!1===t.inlineFormat?function(t,e){var i="publi_"+t;0===$("#"+i).length?$(document.body).prepend($('<div id="'+i+'"></div>')):"FORMAT_BACKGROUND"===t&&$("html").removeClass("bgbrand"),p(i,e)}(a,i):function(t,e){p("sas_container_"+t,e)}(a,i),l[a]=!0,f(n,o,i,t.uuid,t.inlineFormat,{onError:_.bind((function(){s[a]=!1,$(".M-publicitat.smart_"+a).css("display","none"),$("html").removeClass("ad_"+a).addClass("noad_"+a)})),onSuccess:_.bind((function(){s[a]=!0,$(".M-publicitat.smart_"+a).css("display","inherit"),$("html").removeClass("noad_"+a).addClass("ad_"+a)})),onComplete:_.bind((function(t){l[a]=!1,$(document).trigger("publicitat",{device:e,format:a,loaded:s[a]});var r=new CustomEvent("onCompletePublicitat",{detail:{device:e,format:a,loaded:s[a],formatId:i,portalId:n,seccioId:o,uuid:t}});document.dispatchEvent(r)}))})},b=function(){var t,e=window.JITPUBLI_TYPE_TO_KEY[window.jitpubliType];void 0!==u.times&&(u.times=u.times-1),(void 0===u.times||u.times>=0)&&(t=u.format,l[t]=l[t]||!1,function(t){return!(!t||!t.format)&&!0===l[t.format]}(u)||v(u,e))},h=function(t,e){u=t,b(),"smart"===e&&window.jitdevizr.register(JITPUBLI_TYPE.LARGE_PC,b).register(JITPUBLI_TYPE.MEDIUM_PC,b).register(JITPUBLI_TYPE.MEDIUM_TABLET,b).register(JITPUBLI_TYPE.SMALL_TABLET,b).register(JITPUBLI_TYPE.MICRO_MOBILE,b).listen()},I=i(66423),g=i(6364),P=(i(84336),i(45455),i(6277)),E=i(83308),y=i.n(E),C=i(94052),T=i(52322),w=function(t,e){t&&Object.keys(e).forEach((function(i){return t.style[i]=e[i]}))},L=function(t){var e,i=(0,C.Z)("publicitat-display-3catinfo"),a=t.mostra_etiqueta,r=t.configuracio,c=t.mostrarEspaiNoPubli,l=(0,o.useState)({}),s=l[0],u=l[1],d=(0,o.useState)(!c),p=d[0],m=d[1],f=(0,o.useState)(!0),v=f[0],_=f[1],E=(0,o.useState)("Publicitat"),L=E[0],B=E[1],x=(0,o.useState)(null),U=x[0],R=x[1],M=(0,o.useState)(function(t){var e;return{format:t=t.startsWith("FORMAT_")?t:"FORMAT_"+t,inlineFormat:!0,formatEstil:null===(e=t)||void 0===e?void 0:e.toLowerCase().replace("format_","")}}(t.format)),S=M[0],j=(M[1],(0,I.R)().setupPubliFinished),A=(0,o.useState)((0,g.Z)()),N=A[0],k=(A[1],(0,o.useState)({})),q=k[0],D=k[1],F=(0,o.useRef)(),Y=S.format,O=S.inlineFormat,$=S.formatEstil,J=(0,P.Z)((e={},(0,n.Z)(e,y().blocPubli,!0),(0,n.Z)(e,y().hidePubli,p),(0,n.Z)(e,y()[$],!0),e)),Z=function(t){var e=null===t||void 0===t?void 0:t.querySelector("[class^=sas-close-button-]");e&&(e.setAttribute("tabindex","0"),e.addEventListener("click",(function(){return _(!1)})),e.addEventListener("keydown",(function(t){"Enter"===t.key&&_(!1)})))},G=function(t){var e=t.detail,i=e.loaded,n=e.uuid;i&&N===n&&(m(!1),R(e))};return(0,o.useEffect)((function(){return function(){if(null===document.getElementById("3cat-smartadserver-script")){var t=document.createElement("script");t.type="text/javascript",t.src="//tagmanager.smartadserver.com/1029/604783/smart.prebid.js",t.id="3cat-smartadserver-script",document.body.appendChild(t)}}(),function(t){if(t&&"OK"===t.status){var e,i=t.portal,n=t.seccio,o=null===(e=t.publis)||void 0===e?void 0:e.find((function(t){return t.format==S.format})),a=null===o||void 0===o?void 0:o.large_pc,r="SI"===(null===o||void 0===o?void 0:o.actiu),c={LARGE_PC:null===o||void 0===o?void 0:o.large_pc,MEDIUM_PC:null===o||void 0===o?void 0:o.medium_pc,MEDIUM_TABLET:null===o||void 0===o?void 0:o.medium_tablet,SMALL_TABLET:null===o||void 0===o?void 0:o.small_tablet,MICRO_MOBILE:null===o||void 0===o?void 0:o.micro_mobile};u({portalId:i,seccioId:n,publicitat:o,formatId:a,formatIds:c,inlineFormat:O,format:Y,actiu:r,uuid:N})}}(r),document.addEventListener("onCompletePublicitat",G),function(){document.removeEventListener("onCompletePublicitat",G)}}),[]),(0,o.useEffect)((function(){return j&&s.actiu&&h(s,"smart"),function(){!function(){try{jitdevizr.unregister(JITPUBLI_TYPE.LARGE_PC,b).unregister(JITPUBLI_TYPE.MEDIUM_PC,b).unregister(JITPUBLI_TYPE.MEDIUM_TABLET,b).unregister(JITPUBLI_TYPE.SMALL_TABLET,b).unregister(JITPUBLI_TYPE.MICRO_MOBILE,b)}catch(t){console.error("publicitat: cannot remove listeners: "+t)}}()}}),[j,s]),(0,o.useEffect)((function(){!p&&U&&function(t){var e=t.formatId,i=document.getElementById("bloc_publicitat_".concat(N)),n=null===i||void 0===i?void 0:i.querySelector("#sas_".concat(e,"_iframe")),o=null===i||void 0===i?void 0:i.querySelector("img"),a=null===i||void 0===i?void 0:i.querySelector("[id^=sas_adinfo_]");if(a&&B("Publicitat: ".concat(a.textContent)),n){var r,c,l,s,u=i.querySelector("[id^=sas_advDiv_]"),d=null===u||void 0===u?void 0:u.querySelector("[id^=sas_advHolder_]"),p=null===(r=n.contentWindow)||void 0===r||null===(c=r.document)||void 0===c?void 0:c.getElementsByTagName("html")[0],m=null===(l=n.contentWindow)||void 0===l||null===(s=l.document)||void 0===s?void 0:s.getElementsByTagName("body")[0];w(u,{width:"100%",height:"100%",position:"relative"}),w(d,{width:"100%",height:"100%",position:"relative"}),w(p,{width:"100%",height:"100%",position:"relative"}),w(m,{width:"100%",top:"50%",left:"50%",transform:"translate(-50%,-50%)",position:"absolute"}),w(n,{top:"50%",transform:"translateY(-50%)",position:"relative"});var f=m.getBoundingClientRect();D({display:"block",top:f.top,left:f.right})}else if(o){var v=o.getBoundingClientRect(),_=(null===i||void 0===i?void 0:i.querySelector(".R-capsaPubli")).getBoundingClientRect();a&&(o.alt=a.textContent),D({display:"block",top:v.top-_.top,left:v.right-_.left})}else{var b=null===i||void 0===i?void 0:i.querySelector("[id^=sas_videoDiv_]");if(b){var h=(null===i||void 0===i?void 0:i.querySelector(".R-capsaPubli")).getBoundingClientRect(),I=b.getBoundingClientRect();D({display:"block",top:I.top-h.top,left:I.right-h.left})}}Z(i)}(U)}),[p,U]),(0,T.jsx)(T.Fragment,{children:v&&(0,T.jsxs)("div",{ref:F,"data-testid":"publicitat",children:[c&&(!j||!s.actiu)&&(0,T.jsx)("div",{className:J,children:(0,T.jsx)("div",{className:y().contentPubli,children:(0,T.jsx)("div",{className:"".concat(y().capsaPubli," R-capsaPubli"),children:(0,T.jsx)("div",{className:y().publiContainer})})})}),i&&j&&s.actiu&&(0,T.jsx)("div",{className:J,id:"bloc_publicitat_".concat(N),children:(0,T.jsx)("div",{className:y().contentPubli,children:(0,T.jsxs)("aside",{id:"publicitat_"+Y,className:"".concat(y().aside," M-publicitat smart_").concat(Y),"aria-label":L,tabIndex:"-1",style:{display:"inherit"},children:[(0,T.jsxs)("div",{className:"".concat(y().capsaPubli," R-capsaPubli"),children:[(0,T.jsx)("div",{id:"sas_container_"+Y,className:y().publiContainer,children:(0,T.jsx)("div",{id:"sas_"+s.formatId})}),a&&(0,T.jsx)("div",{style:q,className:"".concat(y().etiqueta," eti"),role:"presentation",children:(0,T.jsx)("p",{children:"Publicitat"})})]}),(0,T.jsx)("noscript",{children:(0,T.jsx)("a",{href:"https://www3.smartadserver.com/ac?jump=1&nwid=1029&siteid="+s.portalId+"&pgid="+s.seccioId+"&fmtid="+s.formatId+"&visit=m&tmstp=[timestamp]&out=nonrich",target:"_blank",rel:"noreferrer",children:(0,T.jsx)("img",{src:"https://www3.smartadserver.com/ac?out=nonrich&nwid=1029&siteid="+s.portalId+"&pgid="+s.seccioId+"&fmtid="+s.formatId+"&visit=m&tmstp=[timestamp]",border:"0",alt:"publicitat",role:"presentation"})})})]})})})]})})};L.defaultProps={mostra_etiqueta:!0,mostrarEspaiNoPubli:!1,domini:"3catinfo"};var B=L},66423:function(t,e,i){"use strict";i.d(e,{R:function(){return a}});var n=i(94403),o=i(2784),a=function(){var t=(0,o.useContext)(n.R);return{setupPubliFinished:t.setupPubliFinished,hasTopBannerPublicitat:t.hasTopBannerPublicitat}}},83308:function(t){t.exports={blocPubli:"publicitat_blocPubli__XrvxX",hidePubli:"publicitat_hidePubli__7BCwK",publiContainer:"publicitat_publiContainer__AY4h7",aside:"publicitat_aside__vlTC_",capsaPubli:"publicitat_capsaPubli__0e77Y",etiqueta:"publicitat_etiqueta__z9J2H",supertop_3catinfo:"publicitat_supertop_3catinfo__9npxs",top_3catinfo:"publicitat_top_3catinfo__IRFrC",center_3catinfo:"publicitat_center_3catinfo__aG_g8",bottom_3catinfo:"publicitat_bottom_3catinfo__pcFFp",contentPubli:"publicitat_contentPubli__BDSCV"}},6364:function(t,e,i){"use strict";i.d(e,{Z:function(){return u}});var n,o={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},a=new Uint8Array(16);function r(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}for(var c=[],l=0;l<256;++l)c.push((l+256).toString(16).slice(1));function s(t,e=0){return(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase()}var u=function(t,e,i){if(o.randomUUID&&!e&&!t)return o.randomUUID();var n=(t=t||{}).random||(t.rng||r)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(var a=0;a<16;++a)e[i+a]=n[a];return e}return s(n)}}}]);
//# sourceMappingURL=48146.6166906d0628d5d9.js.map